<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap 101 Template</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
      .sidebar {
        display: none;
      }
      @media (min-width: 768px) {
        .sidebar {
          position: fixed;
          top: 51px;
          bottom: 0;
          left: 0;
          z-index: 1000;
          display: block;
          padding: 20px 0px;
          overflow-x: hidden;
          overflow-y: auto; /* Scrollable contents if viewport is shorter than content. */
          background-color: #f5f5f5;
          border-right: 1px solid #eee;
        }
      }

      /* Sidebar navigation */

      a:hover{
        text-decoration: none;
      }
      .sidebar-panel,.sidebar-panel div.panel-heading,.sidebar-panel div.panel-body{
        background-color: #f5f5f5;
      }
      div.panel-heading.sidebar-color{
        background-color: #428bca;
        color:white;
      }
      .sidebar-panel .panel-body{
        padding: 0px;
      }
      .sidebar-panel .panel-body>div{
        width: 200px;
        margin:0 auto;
        padding: 10px 20px;
      }
      .sidebar-panel .panel-heading {
        color: #1C7ACA;
      }
      .sidebar-color.panel-heading:hover{
        background-color: #eee;
        color: #2a6496;
      }
      .panel#unhired-sidebar{
        padding: 0px 0px 0px 4px;
      }
      a.active{
        font-weight: bold;
      }
      .panel-group .panel+.panel{
        margin-top: 0px;
      }
      .panel-group .panel-heading+.panel-collapse .panel-body {
        border-top:0px;
      } 
      .panel-heading{
        padding: 5px;
      }
      div.panel-heading:hover{
        background-color: pink;
      }
    </style>
  </head>
    <body>
    <div class="row">
      <div class="panel-group col-xs-2" id="accordion">
        <div class="panel sidebar-panel">
          <div class="panel-heading">
            <h4 class="panel-title">
              <a href="#allCandidates" class="sidebar-link" data-toggle="collapse" data-parent="#accordion">
                All Candidates
              </a>
            </h4>
          </div>
          <div class="panel-collapse collapse" id="allCandidates"></div>
        </div>
        <div class="panel sidebar-panel">
          <div class="panel-heading">
            <h4 class="panel-title">
              <a href="#myCandidates" class="sidebar-link"  data-toggle="collapse" data-parent="#accordion">
                My Candidates
              </a>
            </h4>
          </div>
          <div class="panel-collapse collapse" id="myCandidates"></div>
        </div>
        <div class="panel sidebar-panel">
          <div class="panel-heading">
            <h4 class="panel-title">
              <a href="#testing" class="sidebar-link" data-toggle="collapse" data-parent="#accordion">
                Testing
              </a>
            </h4>
          </div>
          <div class="panel-collapse collapse" id="testing">
            <div class="panel-body">
              <div>Exam Sent</div>
              <div>Ready for grading</div>
              <div>Graded</div>
            </div>
          </div>
        </div>
        <div class="panel sidebar-panel">
          <div class="panel-heading">
            <h4 class="panel-title">
              <a href="#interview" class="sidebar-link" data-toggle="collapse" data-parent="#accordion">
                  Interviewing
              </a>
            </h4>
          </div>
          <div class="panel-collapse collapse" id="interview">
           <div class="panel-body">
            <div>NTB scheduled</div>
            <div>Contacted to schedule</div>
            <div>Scheduled</div>
            <div>Waiting for feedback</div>
            <div>Needs Review</div>
            <div>Closing</div>
           </div>
          </div>
        </div>
        <div id="completed-parent" class="panel sidebar-panel">
          <div class="panel-heading">
            <h4 class="panel-title">
              <a href="#completed" class="sidebar-link" data-toggle="collapse" data-parent="#accordion">
                Completed
              </a>
            </h4>
          </div>
          <div class="panel-collapse collapse" id="completed">
            <div class="panel-body">
              <div>Hired (future)</div>
              <div>Hired (current)</div>
              <div class="panel sidebar-panel" id="unhired-sidebar">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a href="#unhired" class="sidebar-unhired sidebar-link" data-toggle="collapse" data-parent="#completed-parent">
                      Not Hired
                    </a>
                  </h4>
                </div>
                <div class="panel-collapse collapse" id="unhired">
                  <div class="panel-body">
                    <div>Rejected</div>
                    <div>Declined</div>
                    <div>Lost/Future</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div> 
    <script src="../js/jquery-1.9.0.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script>
      function reloadSidebar() {
        if($(".active").prev().hasClass("sidebar-link")){
          $(".active").parents(".panel-heading").addClass("sidebar-color").next().addClass('in');
          if($(".active").prev().hasClass("sidebar-unhired")) {
            $(".active").parents("#completed-parent").children().next().addClass('in');  
          }
        } else {
          $(".active").parents(".panel-collapse").addClass('in').prev().addClass("sidebar-color");  
          if($(".active").parents("#unhired").hasClass('collapse')) {
            $("#completed-parent").children().removeClass("sidebar-color");
          }  
        }
      }
      $(function() {
        //if use js-templates,you can use this to reload  the page;(like class:active)
        reloadSidebar();
        $("a[data-toggle=collapse]").click(function() {
          $(".panel-heading").removeClass('sidebar-color');
          $(this).next("a").click();
          $(this).parents(".panel-heading").addClass("sidebar-color");
        }); 
      })
    </script>
    </body> 
</html>
